# Obsidian セットアップガイド

このワークフローを使うための Obsidian 設定手順を説明します。

## 📋 目次

1. [デイリーノートの設定](#1-デイリーノートの設定)
2. [テンプレートの設定](#2-テンプレートの設定)
3. [索引（インデックス）の使い方](#3-索引インデックスの使い方)
4. [推奨プラグイン](#4-推奨プラグイン)
5. [基本的な使い方](#5-基本的な使い方)

---

## 1. デイリーノートの設定

### 手順

1. **設定画面を開く**

   - macOS: `Cmd + ,`
   - Windows/Linux: `Ctrl + ,`

2. **Core plugins → Daily notes を有効化**

   - 左メニュー「Core plugins」をクリック
   - 「Daily notes」のトグルを ON

3. **Daily notes の設定**

   - 左メニュー「Daily notes」をクリック（Core plugins の下に表示される）
   - 以下のように設定:

   | 項目                       | 設定値                                            |
   | -------------------------- | ------------------------------------------------- |
   | New file location          | `00.daily`                                        |
   | Template file location     | `00.daily/Templates/Daily Note.md`                |
   | Date format                | `YYYY-MM-DD`                                      |
   | Open daily note on startup | お好みで（ON にすると起動時に今日のノートが開く） |

4. **保存して閉じる**
   - 設定画面を閉じる（自動保存されます）

### 確認

左サイドバーに 📅 カレンダーアイコンが表示されます。クリックすると今日のデイリーノートが作成されます。

---

## 2. テンプレートの設定

### 手順

1. **設定画面を開く**

   - macOS: `Cmd + ,`
   - Windows/Linux: `Ctrl + ,`

2. **Core plugins → Templates を有効化**

   - 左メニュー「Core plugins」をクリック
   - 「Templates」のトグルを ON

3. **Templates の設定**

   - 左メニュー「Templates」をクリック
   - 以下のように設定:

   | 項目                     | 設定値               |
   | ------------------------ | -------------------- |
   | Template folder location | `00.daily/Templates` |
   | Date format              | `YYYY-MM-DD`         |
   | Time format              | `HH:mm`              |

4. **保存して閉じる**

### 使い方

- ノート内で `Cmd + P`（Windows は`Ctrl + P`）
- 「Templates: Insert template」を選択
- 使いたいテンプレートを選択

または、デイリーノート機能（📅 アイコン）を使えば自動的にテンプレートが適用されます。

---

## 3. 索引（インデックス）の使い方

このワークフローでは、デイリーノートに記録した内容が自動的に索引化されます。

### 📁 索引ファイルの場所

```
vault/
  01.index/           ← ここに索引が生成される
    ideas.md          ← すべてのアイデア
    actions.md        ← すべてのアクション（TODO）
    books/            ← 書籍ごとの学び
      開発生産性の教科書.md
      エンジニアリング組織論への招待.md
```

### 🔄 索引の生成方法

索引は**自動生成**されます（Python スクリプト使用）。

1. デイリーノートを書く（[00.daily/2025-12-14.md](../../00.daily/2025-12-14.md) など）
2. ターミナルで以下を実行:
   ```bash
   python scripts/etl.py        # デイリーノートをDBに登録
   python scripts/build_index.py # 索引ファイルを生成
   ```

詳しくは [QUICKSTART.md](../../../QUICKSTART.md) を参照。

### 📖 索引ファイルの見方

#### ideas.md（アイデア一覧）

```markdown
# Ideas Index

## All Ideas

- [idea] デイリーノートの自動 ETL 化 #topic:workflow ^20251214-i1
  - Source: [[00.daily/2025-12-14.md]]
  - Tags: workflow
- [idea] 週次振り返り MTG の導入 #topic:team-building ^20251213-i1
  - Source: [[00.daily/2025-12-13.md]]
  - Tags: team-building
```

**使い方**:

- `Cmd + クリック`（Windows は`Ctrl + クリック`）で元のデイリーノートに移動
- タグをクリックすると同じタグの項目を検索できる

#### actions.md（TODO 一覧）

```markdown
# Actions Index

## Inbox (status=inbox)

- [action] テスト作成を完了する effort=60 status=inbox #tech:testing ^20251214-a1
  - Source: [[00.daily/2025-12-14.md]]
  - Effort: 60 min
  - Tags: testing

## Doing (status=doing)

（進行中のタスクがここに表示される）

## Done (status=done)

（完了したタスクがここに表示される）
```

**使い方**:

- タスクの状態（inbox/doing/done）で自動分類される
- effort（所要時間）で見積もり管理

#### books/（書籍ごとの学び）

```markdown
# 開発生産性の教科書

## Learnings

- [learning] ![[00.daily/2025-12-14.md#^20251214-t1]] #book:開発生産性の教科書 ^20251214-l1
  - Source: [[00.daily/2025-12-14.md]]
  - Date: 2025-12-14
```

**使い方**:

- 書籍ごとに学んだことがまとまる
- `![[...]]` はブロック参照（クリックで内容が展開される）

### 🔍 Obsidian での検索・活用

#### タグ検索

1. 左サイドバーの「🏷️Tags」パネルを開く
2. タグをクリックすると、そのタグが付いたすべてのノートが表示される

#### バックリンク

1. ノートを開いた状態で右サイドバーを開く
2. 「Backlinks」セクションを確認
3. このノートにリンクしている他のノート一覧が表示される

#### グラフビュー

1. 左サイドバーの「🕸️Graph view」をクリック
2. ノート同士のつながりが視覚化される

---

## 4. 推奨プラグイン

### Calendar（コミュニティプラグイン）

カレンダーからデイリーノートに素早くアクセスできます。

**インストール手順**:

1. Settings → Community plugins
2. 「Turn on community plugins」をクリック（初回のみ）
3. 「Browse」をクリック
4. "Calendar" で検索
5. インストール → Enable

**使い方**:

- 右サイドバーにカレンダーが表示される
- 日付をクリックでその日のノートを開く

### Dataview（コミュニティプラグイン・上級者向け）

INDEX から動的にクエリでデータを抽出できます。

**例**: 未完了のアクション一覧を表示

```dataview
LIST
FROM "00.daily"
WHERE contains(file.tags, "action") AND !contains(file.content, "status=done")
```

---

## 5. 基本的な使い方

### 日々の記録ワークフロー

#### 📝 デイリーノートを書く

1. **左サイドバーの 📅 アイコンをクリック**

   - 今日のノート（例: `2025-12-14.md`）が自動作成される
   - テンプレートが自動挿入される

2. **使わないセクションを削除**

   - 読書しない日は Reading Notes を削除
   - タスクがない日は Tasks Today を削除

3. **内容を記録**

   ```markdown
   ## Reading Notes

   ### 📚 開発生産性の教科書 第 3 章

   プロダクティビティの本質について...

   ## Key Takeaways (indexed)

   - プロダクティビティとは「価値を生み出す速度」^20251214-t1

   ## INDEX

   - [learning] ![[00.daily/2025-12-14.md#^20251214-t1]] #book:開発生産性の教科書 ^20251214-l1
   ```

4. **保存** (`Cmd + S`)

#### 🔄 索引を生成

1. **ターミナルを開く**

   ```bash
   cd /Users/takatonaoto/Documents/obsidian-daily-workflow
   ```

2. **ETL スクリプト実行**

   ```bash
   python scripts/etl.py
   ```

   - デイリーノートの INDEX セクションを読み込み
   - データベースに登録

3. **インデックス生成**

   ```bash
   python scripts/build_index.py
   ```

   - [01.index/ideas.md](../../01.index/ideas.md) などが更新される

4. **Obsidian で確認**
   - `01.index/` フォルダを開く
   - 自動生成された索引ファイルを確認

### 📚 索引ファイルの活用

#### ideas.md でアイデアを一覧

1. [01.index/ideas.md](../../01.index/ideas.md) を開く
2. すべてのアイデアが日付順・タグ別に整理されている
3. `Cmd + クリック` で元のデイリーノートに移動

#### actions.md で TODO 管理

1. [01.index/actions.md](../../01.index/actions.md) を開く
2. inbox/doing/done でタスクが分類されている
3. タスクを更新したら再度 `etl.py` → `build_index.py` を実行

#### books/ で読書記録を確認

1. [01.index/books/](../../01.index/books/) を開く
2. 書籍ごとに学びがまとまっている
3. ブロック参照で内容がインライン展開される

---

## 🎯 よくある質問

### Q1: デイリーノートが自動作成されない

**A**: Daily notes プラグインの設定を確認してください。

- Settings → Daily notes
- Template file location が正しいか確認

### Q2: テンプレートが挿入されない

**A**: テンプレートファイルのパスを確認してください。

- `00.daily/Templates/Daily Note.md` が存在するか確認
- Settings → Daily notes → Template file location の設定を確認

### Q3: 索引ファイルが生成されない

**A**: Python スクリプトの実行を確認してください。

```bash
# 仮想環境の有効化
source .venv/bin/activate

# スクリプト実行
python scripts/etl.py
python scripts/build_index.py
```

詳しくは [QUICKSTART.md](../../../QUICKSTART.md) を参照。

### Q4: ブロック参照（`![[...#^block-id]]`）が展開されない

**A**: ブロック ID が正しいか確認してください。

- ブロック ID は `^YYYYMMDD-<kind><n>` の形式
- 例: `^20251214-t1`, `^20251214-l1`

### Q5: タグが認識されない

**A**: タグは `#` から始まり、スペースなしで記述します。

- ✅ 正しい: `#book:開発生産性の教科書`
- ❌ 間違い: `# book:開発生産性の教科書`（スペースあり）

---

## 🔗 関連ドキュメント

- [QUICKSTART.md](../../../QUICKSTART.md) - スクリプトの実行方法
- [README.md](../../../README.md) - プロジェクト全体概要
- [Templates/README.md](../../00.daily/Templates/README.md) - テンプレート詳細ガイド
- [ai-instructions.md](5.ai-instructions.md) - 詳細な規約
- [detailed_design.md](2.detailed_design.md) - 設計仕様

---

## 💡 Tips

### ホットキーのカスタマイズ

Settings → Hotkeys で以下を設定すると便利です:

| 機能                    | 推奨キー          |
| ----------------------- | ----------------- |
| Open today's daily note | `Cmd + Shift + D` |
| Insert template         | `Cmd + Shift + T` |
| Open quick switcher     | `Cmd + O`         |
| Search in all files     | `Cmd + Shift + F` |

### サイドバーのカスタマイズ

- 右サイドバーを開く: 右上のアイコンをクリック
- 表示項目を選択: Backlinks, Tags, Outline など
- よく使う項目をピン留めしておくと便利

### 過去のノートへのアクセス

- Calendar プラグインを使うと便利
- または Quick switcher（`Cmd + O`）でファイル名検索

---

**🎉 これで Obsidian の設定は完了です！**

まずはデイリーノートを 1 つ書いて、スクリプトで索引を生成してみましょう。
